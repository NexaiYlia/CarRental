<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.orh/extras/spring-security"
    <head>
        <meta charset="UTF-8">
        <title>Manage cars</title>
        <link rel="icon" type="image/x-icon" href="/img/car_fav.png">
        <link rel="stylesheet" type="text/css" href="/css/main.css"/>
    </head>
    <body>
        <div class="conteiner">
            <div th:insert="blocks/header::header"></div>
            <div th:insert="blocks/menu::menu"></div>
            <div class="main-content">
                <div>
                    <h1 th:text="#{carInfo.carsList}">Cars list</h1>
                </div>
                <div>
                    <a th:href="@{/cars/new}"  th:text="#{carInfo.addCar}">Add new car</a>
                </div>
                <div>&nbsp</div>

                <div style="color:red " th:if="${message}" class="alert alert-success text-center">
                   <h1>[[${message}]]</h1>
                </div>
                <div>
                    <table class="table table-bordered">
                        <thead class="tread-green">
                        <tr>
                            <th th:text="#{carInfo.id}">Id</th>
                            <th th:text="#{carInfo.image}">Image</th>
                            <th th:text="#{carInfo.brand}">Brand</th>
                            <th th:text="#{carInfo.model}">Model</th>
                            <th th:text="#{carInfo.gearbox}">Gearbox</th>
                            <th th:text="#{carInfo.manufacturedYear}">Manufactured Year</th>
                            <th th:text="#{carInfo.engineType}">Engine type</th>
                            <th th:text="#{carInfo.pricePerDay}">Price per day</th>
                            <th th:text="#{carInfo.carType}">Car type</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <th:block th:each="car:${cars}">
                            <tr>
                                <td>[[${car.id}]]</td>
                                <td class="imgOfCar">
                                    <img th:src="@{${car.imagePath}}" class="img" style="width:100px"/>
                                </td>
                                <td>[[${car.brand}]]</td>
                                <td>[[${car.model}]]</td>
                                <td>[[${car.gearbox}]]</td>
                                <td>[[${car.manufacturedYear}]]</td>
                                <td>[[${car.engineType}]]</td>
                                <td>[[${car.pricePerDay}]]</td>
                                <td>[[${car.carType}]]</td>
                                <td>
                                    <a class="h4" th:href="@{'/cars/edit/'+${car.id}}" th:text="#{carInfo.edit}">edit</a>
                                    <a class="h4" th:href="@{'/cars/delete/'+${car.id}}" th:text="#{carInfo.delete}">delete</a>
                                </td>
                            </tr>
                        </th:block>
                        </tbody>
                    </table>
                </div>
                <script type="text/javascript">
                    function clearFilter(){
                    window.location="@{/}"}
                </script>
            </div>
        </div>
        <div class="homePageBtn">
            <form th:method="GET" th:action="@{/}">
                <button type="submit" th:text="#{menu.home}">Home</button>
            </form>
        </div>
        <footer th:insert="blocks/footer::footer" id="footer_other"></footer>
    </body>
</html>


